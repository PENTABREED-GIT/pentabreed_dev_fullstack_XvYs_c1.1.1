!function(t){var e=".",n=document.querySelectorAll("script");if(n)for(var o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("src");i&&i.indexOf("namo_crossphoto.js")>-1&&(e=r.src,e=e.replace("/js/namo_crossphoto.js","/"))}var s={};s.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},s.allKeys=function(t){if(!s.isObject(t))return[];var e=[];for(var n in t)e.push(n);return e};s.extend=function(t,e){return function(n){var o=arguments.length;if(e&&(n=Object(n)),o<2||null==n)return n;for(var r=1;r<o;r++)for(var i=arguments[r],s=t(i),a=s.length,c=0;c<a;c++){var l=s[c];e&&void 0!==n[l]||(n[l]=i[l])}return n}}(s.allKeys);var a=function(t,e){var n=-1,o=function(){return!(!t.NHIE||!t.NHIE.start)},r=function(){o()?(clearTimeout(n),e(t.NHIE)):n=setTimeout(r,100)};r()},c=function(t){this.config=t||{}};Object.defineProperty(c,"version",{value:"2.0.11",writable:!1}),c.prototype.start=function(t){t=t||{},t=s.extend({},this.config,t);var n=this,o={};if(t instanceof HTMLElement)o.targetEl=t;else if("string"==typeof t){if(o.targetEl=document.querySelector(t),!o.targetEl instanceof HTMLElement)return void alert("wrong target. stop launching Namo CrossPhoto..")}else o=t;if(o.version="2.0.11",o.instance=n,"function"==typeof t.onApply&&(o.onApply=t.onApply),"function"==typeof t.onCancel?o.onCancel=t.onCancel:o.onCancel=function(t){t.destroy()},o.targetEl){this._mode="el";var r=o.targetEl,i=document.createElement("iframe");i.style.border="0",i.style.width="100%",i.style.height="100%",r.innerHTML="",r.appendChild(i),i.addEventListener("load",function(){a(i.contentWindow,function(t){n.nhie=t,t.start({option:o})})}),i.setAttribute("src",e+"index.html"),this._target=i}else{this._mode="win";var c=window.open(e+"index.html");a(c,function(t){n._target=c,n.nhie=t,t.start({option:o})}),this._target=c}},c.prototype.destroy=function(){if(this.nhie.destroy(),"el"===this._mode){this.nhie.config.option.targetEl.removeChild(this._target)}else"win"===this._mode&&this._target.close()},t.CrossPhoto=c}(window);